<% level ||= 0 %>
<div class="CommentContainer CommentLevel<%= level %>">

  <!--
  <div class='CommenterInfo'>
     <%= image_tag(comment.user.avatar.url, size: "60x60",
        alt: comment.user.display_name, class: 'CommenterImage') %>
    <h2 class='CommenterName'><%= comment.user.display_name %></h2>
    
    <div class='CommentActions'>
    <ul>
      <li>Reply</li>
      <li>Share</li>
    </ul>
  </div>
  </div>
      --> 

  <div class='CommentContent'>
    <div class='CommentText'><%= (sanitize comment.text, tags: %w(br)).html_safe %></div>
    <% if false #!comment.commentings.blank? %>
      <% commenting_name = comment.commentings.first.commentable_type.underscore # A comment can only contain one type of media %>
      <% partial_name = "comment_media_#{ commenting_name }" %>
      <div class="CommentMediaContainer Comment<%= commenting_name %>Container">
        <% comment.commentings.each do |c| %>
          <% if (defined? context) && context != commenting_name %>
            <%= render "shared/#{ partial_name }", element: c %>
          <% end %>
        <% end %>
      </div>
    <% end %>
  </div>
  <% if !comment.replies.blank? %>
    <% comment.sorted_replies.each do |r| %>
      <%= render 'shared/comment_base', comment: r, level: (level + 1) %>
    <% end %>
  <% end %>
</div>
