function event_status_trigger_success(e){$(".SelectedButton").button("toggle");var t=$(e).data("userid"),n="#attendeeUser"+t,o=$(e).data("status"),a="#"+o+"List";$(".SelectedButton").removeClass("SelectedButton"),$("#"+o+"Button").addClass("SelectedButton"),$(".SelectedButton").button("toggle"),$(n).animate({marginLeft:"-300px"},400,function(){$(n).slideUp(400,function(){$(n).detach().appendTo(a)}),$(n).slideDown(),$(n).animate({marginLeft:"0px"},400)})}function leave_event_trigger_success(e){var t="#"+$(e).data("currstatus")+"Button";$(t).button("toggle"),$(t).removeClass("SelectedButton");var n=$(e).data("userid"),o="#attendeeUser"+n;$(o).animate({marginLeft:"-300px"},400,function(){$(o).slideUp(400,function(){})})}function setDefaultPickerTime(e){var t=$("#"+e+"_time_text").text();console.log("time_string: "+t);var n=t.split(" ");console.log("dt: "+n);var o=n[0].split("/");console.log("d: "+o);var a=parseInt(o[0],10)-1;console.log("month: "+a);var s=o[1];console.log("day: "+s);var i=o[2];console.log("year: "+i);var c=n[1].split(":");console.log("t: "+c);var l=parseInt(c[0],10),r=c[1];console.log("minute: "+r),"PM"==n[2]&&(l+=12),console.log("hour: "+l);var u=new Date(i,a,s,l,r);console.log("date: "+u);var d=$("#"+e+"Picker").data("datetimepicker");d.setLocalDate(u)}function triggerInviteModal(){$("#backdrop").addClass("In"),$("#inviteModal").addClass("In")}function inviteToggleClicked(e){$(".btn-group-label > p").css("display","none");var t=$(e).attr("id"),n=t+"Label";$("#"+n).css("display","block"),"inviteNoOne"!=t?$("#inviteSelect").slideDown():$("#inviteSelect").slideUp()}$(function(){$(".SelectedButton").button("toggle")}),$("body").on("click",".EventStatusTrigger",function(e){console.log("EventStatusTrigger click"),e.preventDefault();var t=$(this),n=$(this).attr("href");return $.ajax({dataType:"json",type:"POST",url:n,success:function(e){console.log("resp: "+e.success),1==e.success&&event_status_trigger_success(t)}}),!1}),$("body").on("click",".EventLeaveTrigger",function(e){console.log("EventLeaveTrigger click"),e.preventDefault();var t=$(this),n=$(this).attr("href");return $.ajax({dataType:"json",type:"POST",url:n,success:function(e){1==e.success&&leave_event_trigger_success(t)}}),!1}),$("body").on("keydown","#eventName",function(){return 13===event.keyCode?(event.preventDefault(),$(this).blur(),!1):void 0}),$("body").on("blur","#eventName",function(){$(this);var e=$(this).text();$.ajax({url:"/events/"+getEventIDFromURL(),type:"PUT",data:{name:e},success:function(){console.log("Successfully updated event name")}})}),$("body").on("keydown","#location",function(){return 13===event.keyCode?(event.preventDefault(),$(this).blur(),!1):void 0}),$("body").on("blur","#location",function(){$(this);var e=$(this).text();$.ajax({url:"/events/"+getEventIDFromURL(),type:"PUT",data:{location:e},success:function(){console.log("Successfully updated event location")}})}),$("#startPicker").datetimepicker({language:"en",pick12HourFormat:!0});var is_editing_cookie=readCookie("is_editing");"1"==is_editing_cookie&&setDefaultPickerTime("start"),$("#startPicker").on("changeDate",function(){var e=$("#startTime").val();$.ajax({url:"/events/"+getEventIDFromURL(),type:"PUT",data:{start_at:e},success:function(){console.log("Successfully updated event start")}})}),$("#endPicker").datetimepicker({language:"en",pick12HourFormat:!0}),"1"==is_editing_cookie&&setDefaultPickerTime("end"),$("#endPicker").on("changeDate",function(){var e=$("#endTime").val();$.ajax({url:"/events/"+getEventIDFromURL(),type:"PUT",data:{end_at:e},success:function(){console.log("Successfully updated event end")}})}),$("body").on("click","#invitePrompt",function(){triggerInviteModal()}),$("body").on("click",".ModalDismiss",function(){$("#backdrop").removeClass("In"),$("#inviteModal").removeClass("In")}),$("body").on("click",".InviteToggle",function(){inviteToggleClicked($(this))});var selectedFollowerIDs=new Array;$("body").on("click",".SelectFollower",function(){$(this).toggleClass("Selected");var e=$(this).attr("id");e=e.substring(8),selectedFollowerIDs.push(e)});